@model IconicFund.Web.Models.LoginViewModel
@{
    Layout = null;
}

<!DOCTYPE html>
<html lang="en">

<!-- begin::Head -->
<head>
    <base href="">
    <meta charset="utf-8" />
    <title>@Labels.AppName | @Labels.Login </title>
    <meta name="description" content="Login page to facilities App">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!--begin::Fonts -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700">

    <!--end::Fonts -->
    <!--begin::Page Custom Styles(used by this page) -->
    <link href="/css/pages/login/login-1.css" rel="stylesheet" type="text/css" />

    <!--end::Page Custom Styles -->
    <!--begin::Global Theme Styles(used by all pages) -->
    <link href="/plugins/global/plugins.bundle.css" rel="stylesheet" type="text/css" />
    <link href="/css/style.bundle.css" rel="stylesheet" type="text/css" />
    <link href="/css/main.css" rel="stylesheet" type="text/css" />
    <link href="/css/login.css" rel="stylesheet" type="text/css" />


    <!--end::Global Theme Styles -->
    <!--begin::Layout Skins(used by all pages) -->
    <!--end::Layout Skins -->
    <link rel="shortcut icon" href="/media/icons/logotask.png" />
</head>

<!-- end::Head -->
<!-- begin::Body -->
<body class="kt-page--loading-enabled kt-page--loading kt-quick-panel--right kt-demo-panel--right kt-offcanvas-panel--right kt-header--fixed kt-header--minimize-topbar kt-header-mobile--fixed kt-subheader--enabled kt-subheader--transparent kt-page--loading">

    <!-- begin::Page loader -->
    <!-- end::Page Loader -->
    <!-- begin:: Page -->
    @*<header>
        <div class="header ml-5 mr-5 ">
            <a href="#" class="logo_link">
                <img src="~/media/icons/logotask.png" alt="logo" class="logo" />
            </a>
            <p class="header-info">
                بوابة إدارة المعاملات والعلاقات العامه بالعاصمة المقدسة
            </p>

            <div class="header-right">
                <a href="#">العربية</a>
            </div>
        </div>
    </header>*@
    <div class="row align-items-center col-sm-12 align-content-between p-0 m-0">
        <div class="col-sm-7">

            <div class="kt-grid__item kt-grid__item--fluid  kt-grid__item--order-tablet-and-mobile-1  kt-login__wrapper">

                @*<div class="kt-login__head">
                    <span class="kt-login__signup-label">Don't have an account yet?</span>
                    <a href="#" class="kt-link kt-login__signup-link">Sign Up!</a>
                </div>*@

                <div class="kt-login__body">

                    <div class="kt-login__form" style="margin:0 auto; padding: 50px;max-width:600px !important">
                        <div class="kt-login__title mb-4">
                            <h1>مرحبا بك , عزيزي </h1>
                            <h2> الرجاء تسجيل الدخول الي حسابك</h2>
                        </div>

                        @if (TempData[Constants.ErrorMessage] != null)
                        {
                            <div class="alert alert-bold alert-solid-danger alert-dismissible" role="alert">

                                <div class="alert-text">@TempData[Constants.ErrorMessage]</div>
                                <div class="alert-close">
                                    <i class="flaticon2-cross kt-icon-sm" data-dismiss="alert"></i>
                                </div>
                            </div>
                        }

                        @using (Html.BeginForm("Login", "Account", FormMethod.Post, new { @class = "kt-form", role = "form" }))
                        {
                            @Html.AntiForgeryToken()

                            <div class="form-group">
                                @Html.TextBoxFor(m => m.UserName, "", new { @class = "form-control", @style = "background-color: white", placeholder = Labels.UsernamePlaceholder, autocomplete = "off" })
                                <div class="invalid-feedback">@Html.ValidationMessageFor(m => m.UserName, "")</div>
                            </div>
                            <div class="form-group">
                                @Html.PasswordFor(m => m.Password, new { @class = "form-control", @style = "background-color: white", placeholder = Labels.Password, autocomplete = "off" })
                                <div class="invalid-feedback">@Html.ValidationMessageFor(m => m.Password, "")</div>
                            </div>
                            <div class="input-group">
                                <div id="ImgDiv" class="input-group-prepend">
                                    <img id="img-captcha" src="/Account/GetCaptchaImage" />
                                </div>
                                <input type="text" class="form-control" placeholder="@Labels.EnterCaptchaCode" asp-for="CaptchaCode" maxlength="4" />
                                <div class="invalid-feedback">@Html.ValidationMessageFor(m => m.CaptchaCode, "")</div>

                            </div>
                           
                            <div class="kt-login__actions">
                                <button type="button" onclick="ResetCode()" class="kt-link kt-login__link-forgot" >
                                @Labels.ResetCode
                                </button>
                                <a href="@Url.Content("/Account/findAccount")" class="kt-link kt-login__link-forgot">
                                    @Labels.ForgotPassword
                                </a>
                                <button type="submit" class="btn btn-primary btn-elevate kt-login__btn-primary">@Labels.Login</button>
                            </div>


                  
                                            }

                        
                    </div>

                </div>

     
            </div>

        </div>

        <div class="col-sm-5 text-center left-logo">
            <div class="logo_city">
                <a href="#" class="logo_link">
                    <img src="~/media/icons/logotask.png" alt="logo" class="logo" />
                </a>
                <p class="header-info">
                    بوابة إدارة المعاملات والعلاقات العامه بالعاصمة المقدسة
                </p>
            </div>
            @*<img src="~/media/icons/Vector art.png" alt="vector" class="img_login">*@
        </div>
    </div>
    <footer>
        <a href="http://www.apit.net.sa/" target="_blank">
            <img src="~/media/icons/56.png" alt="logo_apan" />المدرية العامة للدفاع المدني  &copy;
            <script type="text/javascript">document.write(new Date().getFullYear());</script>
            All Rights Reserved

        </a>
    </footer>
  @* <div class="kt-grid kt-grid--ver kt-grid--root kt-page">
            <div class="kt-grid kt-grid--hor kt-grid--root  kt-login kt-login--v1" id="kt_login">
                <div class="kt-grid__item kt-grid__item--fluid kt-grid kt-grid--desktop kt-grid--ver-desktop kt-grid--hor-tablet-and-mobile">

                    begin::Aside
                    <div class="kt-grid__item kt-grid__item--order-tablet-and-mobile-2 kt-grid kt-grid--hor kt-login__aside">
                        <div class="kt-grid__item">
                            <a href="#" class="kt-login__logo">
                                <img src="/media/logos/logo17.png" style="width: 35%;">
                                <img src="/media/logos/logo-7.png" alt="logo">

                            </a>
                        </div>
                        <div class="kt-grid__item kt-grid__item--fluid kt-grid kt-grid--ver">
                            <div class="kt-grid__item kt-grid__item--middle">
                                <h3 class="kt-login__title">@Labels.WelcomeToApp</h3>
                            </div>
                        </div>
                        <div class="kt-grid__item">
                            <div class="kt-login__info">
                                <div class="kt-login__copyright">
                                    &copy المدرية العامة للدفاع المدني
                                </div>

                            </div>
                        </div>
                    </div>

                    begin::Aside
                    begin::Content
                    <div class="kt-grid__item kt-grid__item--fluid  kt-grid__item--order-tablet-and-mobile-1  kt-login__wrapper">

                        begin::Head
                        <div class="kt-login__head">
                            <span class="kt-login__signup-label">Don't have an account yet?</span>&nbsp;&nbsp;
                            <a href="#" class="kt-link kt-login__signup-link">Sign Up!</a>
                        </div>
                        end::Head
                        begin::Body
                        <div class="kt-login__body">

                            begin::Signin
                            <div class="kt-login__form" style="background-color: #f5f5f5;padding: 30px;max-width:550px !important">
                                <div class="kt-login__title">
                                    <h1>@Labels.Login</h1>
                                    <i class="fas fa-sign-in-alt fa-10x"></i>
                                </div>

                                @if (TempData[Constants.ErrorMessage] != null)
                                {
                                    <div class="alert alert-bold alert-solid-danger alert-dismissible" role="alert">

                                        <div class="alert-text">@TempData[Constants.ErrorMessage]</div>
                                        <div class="alert-close">
                                            <i class="flaticon2-cross kt-icon-sm" data-dismiss="alert"></i>
                                        </div>
                                    </div>
                                }

                                begin::Form
                                @using (Html.BeginForm("Login", "Account", FormMethod.Post, new { @class = "kt-form", role = "form" }))
                                {
                                    @Html.AntiForgeryToken()

                                    <div class="form-group">
                                        @Html.TextBoxFor(m => m.UserName, "", new { @class = "form-control", @style = "background-color: white", placeholder = Labels.UsernamePlaceholder, autocomplete = "off" })
                                        <div class="invalid-feedback">@Html.ValidationMessageFor(m => m.UserName, "")</div>
                                    </div>
                                    <div class="form-group">
                                        @Html.PasswordFor(m => m.Password, new { @class = "form-control", @style = "background-color: white", placeholder = Labels.Password, autocomplete = "off" })
                                        <div class="invalid-feedback">@Html.ValidationMessageFor(m => m.Password, "")</div>
                                    </div>
                                    <br />
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <img id="img-captcha" src="/Account/GetCaptchaImage" />
                                        </div>
                                        <input type="text" class="form-control" placeholder="@Labels.EnterCaptchaCode" asp-for="CaptchaCode" maxlength="4" />
                                        <div class="invalid-feedback">@Html.ValidationMessageFor(m => m.CaptchaCode, "")</div>

                                    </div>

                                    begin::Action
                                    <div class="kt-login__actions">
                                        <a href="#" class="kt-link kt-login__link-forgot">
                                            @Labels.ForgotPassword
                                        </a>
                                        <button type="submit" class="btn btn-primary btn-elevate kt-login__btn-primary">@Labels.Login</button>
                                    </div>


                                    end::Action
                                }

                                end::Form
                                end::Options
                            </div>

                            end::Signin
                        </div>

                        end::Body
                    </div>

                    end::Content
                </div>
            </div>
        </div>*@

    @{await Html.RenderPartialAsync("_ValidationScriptsPartial"); }


    <!-- end:: Page -->
    <!-- begin::Global Config(global config for global JS sciprts) -->
    <script>
        var KTAppOptions = {
            "colors": {
                "state": {
                    "brand": "#374afb",
                    "light": "#ffffff",
                    "dark": "#282a3c",
                    "primary": "#5867dd",
                    "success": "#34bfa3",
                    "info": "#36a3f7",
                    "warning": "#ffb822",
                    "danger": "#fd3995"
                },
                "base": {
                    "label": ["#c5cbe3", "#a1a8c3", "#3d4465", "#3e4466"],
                    "shape": ["#f0f3ff", "#d9dffa", "#afb4d4", "#646c9a"]
                }
            }
        };</script>

    <!-- end::Global Config -->
    <!--begin::Global Theme Bundle(used by all pages) -->
    <script src="/plugins/global/plugins.bundle.js" type="text/javascript"></script>
    <script src="/js/scripts.bundle.js" type="text/javascript"></script>

    <!--end::Global Theme Bundle -->
    <!--begin::Page Scripts(used by this page) -->
    <script src="/js/pages/custom/login/login-1.js" type="text/javascript"></script>

    <!--end::Page Scripts -->
    <script>
        
        function ResetCode() {
            debugger;

            $('#img-captcha').attr('src', '/Account/GetCaptchaImage?nc=' + (new Date).getTime());
              
           }
            

        
    </script>
</body>

<!-- end::Body -->
</html>
